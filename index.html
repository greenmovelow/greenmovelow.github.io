<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investigative Analysis: The Marble Freedom Trust Financial Network</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Teko:wght@600&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Investigative Neutral -->
    <!-- Application Structure Plan: The application is designed as a narrative "scrollytelling" journey. It begins with a high-level overview and a central, interactive flow diagram of the money trail (MFT -> Schwab -> 85 Fund). Users can click on elements to drill down into details. Subsequent sections profile the key players, explain the complex legal mechanisms with simple visuals, and finally reveal the full, interconnected network map. This structure guides the user from the core finding to the broader context, making a complex topic digestible without sacrificing depth. The goal is to first establish the "what" (the money trail) and then the "how" and "who," which is a more intuitive learning path than the report's chapter structure. -->
    <!-- Visualization & Content Choices: The core of the app is an interactive HTML/CSS flow diagram to visualize the MFT->Schwab->85 Fund pathway (Goal: Show Relationships, Interaction: Click to update detail pane). A dynamic Chart.js bar chart visualizes MFT's grants over time (Goal: Show Change, Interaction: Filter buttons). A multi-step HTML/CSS animated diagram explains DAF mechanics (Goal: Inform, Interaction: Click-through steps). An interactive HTML/CSS network map displays the full ecosystem (Goal: Organize/Relationships, Interaction: Hover/click to highlight nodes/connections). All choices prioritize clarity and user engagement, using JS to dynamically update content based on user interaction, all within the designed narrative flow. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        h1, h2, h3 { font-family: 'Teko', sans-serif; letter-spacing: 0.5px; }
        .active-nav { color: #1d4ed8; border-bottom-color: #1d4ed8; }
        .inactive-nav { color: #4b5563; border-bottom-color: transparent; }
        .content-section { display: none; }
        .content-section.active { display: block; }
        .chart-container { position: relative; width: 100%; max-width: 800px; margin-left: auto; margin-right: auto; height: 350px; max-height: 500px; }
        @media (min-width: 768px) { .chart-container { height: 450px; } }
        .flow-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            height: 4px;
            background-color: #d1d5db;
            transition: all 0.3s ease;
        }
        .flow-arrow-head {
            position: absolute;
            top: 50%;
            right: -1px;
            transform: translateY(-50%) rotate(45deg);
            width: 16px;
            height: 16px;
            border-top: 4px solid #d1d5db;
            border-right: 4px solid #d1d5db;
            transition: all 0.3s ease;
        }
        .flow-node.active-node {
            border-color: #1d4ed8;
            box-shadow: 0 0 15px rgba(29, 78, 216, 0.4);
            transform: scale(1.05);
        }
        .network-node.highlight-node {
            background-color: #1e40af;
            color: white;
            transform: scale(1.1);
            z-index: 20;
        }
        .network-line.highlight-line {
            background-color: #1e40af;
            height: 3px;
            z-index: 10;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-200">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-slate-900 font-['Teko']">FINANCIAL CONDUIT ANALYSIS</span>
                </div>
                <div class="hidden md:block">
                    <div id="nav-links" class="ml-10 flex items-baseline space-x-4">
                        <a href="#summary" class="nav-link px-3 py-2 rounded-md text-sm font-medium border-b-2 transition-all duration-300">Summary</a>
                        <a href="#money-trail" class="nav-link px-3 py-2 rounded-md text-sm font-medium border-b-2 transition-all duration-300">Money Trail</a>
                        <a href="#key-players" class="nav-link px-3 py-2 rounded-md text-sm font-medium border-b-2 transition-all duration-300">Key Players</a>
                        <a href="#the-mechanism" class="nav-link px-3 py-2 rounded-md text-sm font-medium border-b-2 transition-all duration-300">The Mechanism</a>
                        <a href="#full-network" class="nav-link px-3 py-2 rounded-md text-sm font-medium border-b-2 transition-all duration-300">Full Network</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
        
        <section id="summary" class="content-section">
            <div class="text-center mb-12">
                <h1 class="text-5xl md:text-7xl font-bold text-slate-900 tracking-tight">THE ARCHITECTURE OF OBSCURITY</h1>
                <p class="mt-4 max-w-4xl mx-auto text-lg text-slate-600">
                    An interactive analysis of a sophisticated financial network designed to channel a $1.6 billion windfall into political influence, leveraging the infrastructure of American philanthropy.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                <div class="bg-white p-6 rounded-lg shadow-md border border-slate-200">
                    <h3 class="text-4xl text-blue-800">$1.6 Billion</h3>
                    <p class="mt-2 text-slate-600">The historic, tax-advantaged contribution from Barre Seid that capitalized the Marble Freedom Trust.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border border-slate-200">
                    <h3 class="text-4xl text-blue-800">$447+ Million</h3>
                    <p class="mt-2 text-slate-600">Total grants from MFT to Schwab Charitable, transforming it into a high-volume financial superhighway.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md border border-slate-200">
                    <h3 class="text-4xl text-blue-800">$282+ Million</h3>
                    <p class="mt-2 text-slate-600">Funds routed from Schwab Charitable to The 85 Fund, a central hub in Leonard Leo's network.</p>
                </div>
            </div>
            
            <div class="mt-12 bg-white p-8 rounded-lg shadow-lg border border-slate-200">
                <h2 class="text-3xl md:text-4xl text-slate-900">Executive Summary</h2>
                <p class="mt-4 text-slate-700 leading-relaxed">
                    This analysis deconstructs the financial architecture linking the **Marble Freedom Trust (MFT)**, a 501(c)(4) entity controlled by activist Leonard Leo, and **DAFgiving360™ (Schwab Charitable)**, a major donor-advised fund (DAF) sponsor. What began as an investigation into a grant discrepancy has uncovered a sustained, multi-hundred-million-dollar pathway designed to channel politically motivated funds through the charitable sector. This structure obscures the funds' origins, provides a veneer of charitable legitimacy, and exploits U.S. nonprofit law to reshape American law and public policy. This application allows you to interactively explore this network, trace the money, and understand the mechanisms at play.
                </p>
            </div>
        </section>

        <section id="money-trail" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl text-slate-900">The Primary Money Trail</h2>
                <p class="mt-3 max-w-3xl mx-auto text-lg text-slate-600">The core of the network involves a two-step transfer. Click on each entity or the financial flows to reveal the details of this high-volume conduit.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-12 gap-6 items-center bg-white p-8 rounded-lg shadow-lg border border-slate-200 min-h-[300px]">
                <div class="md:col-span-3 text-center">
                    <div id="node-mft" class="flow-node border-2 border-slate-300 p-4 rounded-lg cursor-pointer transition-all duration-300 h-full flex flex-col justify-center">
                        <h3 class="text-2xl text-slate-800">Marble Freedom Trust</h3>
                        <p class="text-sm text-slate-500">The Capital Source</p>
                    </div>
                </div>
                <div class="md:col-span-2 text-center relative h-16 md:h-auto">
                    <div class="flow-arrow hidden md:block">
                       <div class="flow-arrow-head"></div>
                    </div>
                    <div id="flow-1" class="p-2 rounded-md cursor-pointer transition-colors duration-300">
                        <p class="text-2xl font-bold text-blue-700 md:relative md:top-[-40px]">~ $307M</p>
                        <p class="text-xs text-slate-500">(FY22-23)</p>
                    </div>
                     <span class="md:hidden text-4xl text-slate-400">↓</span>
                </div>
                <div class="md:col-span-3 text-center">
                    <div id="node-sc" class="flow-node border-2 border-slate-300 p-4 rounded-lg cursor-pointer transition-all duration-300 h-full flex flex-col justify-center">
                        <h3 class="text-2xl text-slate-800">Schwab Charitable</h3>
                        <p class="text-sm text-slate-500">The Intermediary Conduit</p>
                    </div>
                </div>
                <div class="md:col-span-1 text-center relative h-16 md:h-auto">
                     <span class="md:hidden text-4xl text-slate-400">↓</span>
                </div>
                <div class="md:col-span-3 text-center">
                    <div id="node-85f" class="flow-node border-2 border-slate-300 p-4 rounded-lg cursor-pointer transition-all duration-300 h-full flex flex-col justify-center">
                        <h3 class="text-2xl text-slate-800">The 85 Fund</h3>
                        <p class="text-sm text-slate-500">The Operational Hub</p>
                    </div>
                </div>
                <div class="md:col-span-12 relative h-16 md:h-auto text-center">
                    <div class="flow-arrow hidden md:block" style="left: 62.5%; width: 20.8%;">
                       <div class="flow-arrow-head"></div>
                    </div>
                    <div id="flow-2" class="p-2 rounded-md cursor-pointer transition-colors duration-300 md:absolute md:left-[72%] md:bottom-[-20px]">
                        <p class="text-2xl font-bold text-blue-700">~ $282M</p>
                        <p class="text-xs text-slate-500">(FY22-23)</p>
                    </div>
                </div>
            </div>

            <div id="details-pane" class="mt-8 bg-slate-100 p-6 rounded-lg min-h-[250px] transition-all duration-500 border border-slate-200">
                <h3 id="details-title" class="text-2xl md:text-3xl text-slate-900">Select an Element</h3>
                <div id="details-content" class="mt-4 text-slate-700 leading-relaxed">
                    <p>Click on any of the entities or financial flows in the diagram above to learn more about their role, the specific transactions, and their significance in the network.</p>
                </div>
            </div>
        </section>
        
        <section id="key-players" class="content-section">
             <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl text-slate-900">The Key Players</h2>
                <p class="mt-3 max-w-3xl mx-auto text-lg text-slate-600">Understanding the entities and individuals behind the money is crucial to understanding the network's purpose and strategy.</p>
            </div>
            <div class="space-y-8">
                <div class="bg-white p-6 rounded-lg shadow-lg border border-slate-200">
                    <h3 class="text-3xl text-slate-900">Marble Freedom Trust (MFT)</h3>
                    <p class="text-md text-slate-500 mt-1">Role: The Capital Engine</p>
                    <p class="mt-4 text-slate-700">A secretive 501(c)(4) "social welfare" organization that functions as the financial engine for Leonard Leo's network. Established in 2020, it was capitalized by a historic $1.6 billion donation of company stock from Barre Seid, a transaction structured to avoid an estimated $400 million in taxes. MFT's sole purpose is to deploy this windfall to a select group of organizations to "crush liberal dominance."</p>
                    <div class="mt-4 chart-container">
                        <canvas id="mftGrantsChart"></canvas>
                    </div>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-lg border border-slate-200">
                    <h3 class="text-3xl text-slate-900">Schwab Charitable (DAFgiving360™)</h3>
                     <p class="text-md text-slate-500 mt-1">Role: The Financial Intermediary</p>
                    <p class="mt-4 text-slate-700">One of the nation's largest Donor-Advised Fund (DAF) sponsors, managing over $41 billion in assets. It functions as a neutral financial conduit, processing grants on behalf of donors. This "pass-through" nature is key to the network's strategy, as it allows funds from a political 501(c)(4) like MFT to be "washed" of their origin, re-emerging as grants from an apolitical 501(c)(3) public charity.</p>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-lg border border-slate-200">
                    <h3 class="text-3xl text-slate-900">The 85 Fund</h3>
                     <p class="text-md text-slate-500 mt-1">Role: The Operational Hub</p>
                    <p class="mt-4 text-slate-700">A 501(c)(3) organization (formerly the Judicial Education Project) that acts as a central distribution hub. It receives the vast majority of its funding—over $282 million in two years—from the MFT-funded DAF at Schwab Charitable. The 85 Fund then distributes this money to other conservative groups and, crucially, pays tens of millions annually to CRC Advisors, a for-profit firm chaired by Leonard Leo.</p>
                </div>
            </div>
        </section>

        <section id="the-mechanism" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl text-slate-900">The Architecture of Obscurity</h2>
                <p class="mt-3 max-w-3xl mx-auto text-lg text-slate-600">The network's effectiveness relies on exploiting the legal distinctions between different types of nonprofits. The Donor-Advised Fund (DAF) is the central gear in this machine.</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                <div class="bg-white p-6 rounded-lg shadow-lg border border-slate-200">
                    <h3 class="text-3xl text-slate-900">How a DAF Launders Political Money</h3>
                    <p class="mt-2 text-slate-600">A DAF provides two key advantages for this network: anonymity and regulatory shielding. Follow the steps below.</p>
                    <div class="mt-6 space-y-4">
                        <div id="daf-step-1" class="p-4 border-l-4 border-slate-200 transition-all duration-300">
                            <h4 class="font-bold text-lg text-slate-800">Step 1: The Contribution</h4>
                            <p class="text-sm text-slate-600">MFT (a political 501c4) donates $153M to a DAF account at Schwab Charitable (a public 501c3). MFT gets a tax deduction. The money's origin is now shielded.</p>
                        </div>
                        <div id="daf-step-2" class="p-4 border-l-4 border-slate-200 transition-all duration-300 opacity-50">
                            <h4 class="font-bold text-lg text-slate-800">Step 2: The "Advice"</h4>
                            <p class="text-sm text-slate-600">MFT "advises" Schwab Charitable to grant funds from its account to The 85 Fund. The grant is now legally from Schwab, not MFT.</p>
                        </div>
                        <div id="daf-step-3" class="p-4 border-l-4 border-slate-200 transition-all duration-300 opacity-50">
                             <h4 class="font-bold text-lg text-slate-800">Step 3: The Grant & The Shield</h4>
                            <p class="text-sm text-slate-600">Schwab grants $141M to The 85 Fund. For regulatory purposes (the "public support test"), this grant is considered public support, protecting The 85 Fund's charitable status, which a direct grant from MFT would have jeopardized.</p>
                        </div>
                    </div>
                    <div class="mt-4 text-center">
                        <button id="daf-next-btn" class="bg-blue-700 text-white px-6 py-2 rounded-md hover:bg-blue-800 transition-colors">Next Step</button>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-lg border border-slate-200">
                    <h3 class="text-3xl text-slate-900">Weaponizing the Tax Code</h3>
                    <div class="mt-4 space-y-4">
                        <div>
                            <h4 class="font-semibold text-slate-800">501(c)(4) as Capital Engine</h4>
                            <p class="text-sm text-slate-600">MFT's (c)(4) status was perfect for absorbing the $1.6B company stock donation tax-free, something a (c)(3) or private foundation would struggle with.</p>
                        </div>
                        <hr>
                         <div>
                            <h4 class="font-semibold text-slate-800">DAF as Anonymizer</h4>
                            <p class="text-sm text-slate-600">Grants made from the DAF are publicly recorded as coming from Schwab Charitable, not MFT. This breaks the public money trail.</p>
                        </div>
                        <hr>
                        <div>
                            <h4 class="font-semibold text-slate-800">DAF as Status Shield</h4>
                            <p class="text-sm text-slate-600">This is the most sophisticated step. A grant from a DAF sponsor counts towards a charity's "public support test." This allows The 85 Fund to be almost entirely funded by one source (MFT) while legally appearing to be publicly supported, thus protecting its valuable 501(c)(3) status.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="full-network" class="content-section">
            <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl text-slate-900">The Full Financial Ecosystem</h2>
                <p class="mt-3 max-w-3xl mx-auto text-lg text-slate-600">The MFT-Schwab-85 Fund pathway is the main artery, but it's part of a larger, closed-loop system for influence and profit. Hover over or click entities to see their connections.</p>
            </div>

            <div class="relative w-full h-[700px] md:h-[600px] bg-white p-4 md:p-8 rounded-lg shadow-lg border border-slate-200" id="network-container">
            </div>
        </section>
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('.content-section');
            const navLinks = document.querySelectorAll('.nav-link');
            const detailsPane = {
                title: document.getElementById('details-title'),
                content: document.getElementById('details-content')
            };
            const flowNodes = {
                mft: document.getElementById('node-mft'),
                sc: document.getElementById('node-sc'),
                '85f': document.getElementById('node-85f'),
                flow1: document.getElementById('flow-1'),
                flow2: document.getElementById('flow-2')
            };
            
            const paneData = {
                mft: {
                    title: 'Marble Freedom Trust (MFT)',
                    content: 'The source of the funds. A 501(c)(4) trust endowed with a $1.6B contribution. Its primary purpose is to make large grants to other entities in the network. It provides the capital and the political direction.'
                },
                sc: {
                    title: 'Schwab Charitable (DAFgiving360™)',
                    content: 'The intermediary. A Donor-Advised Fund sponsor that is one of the largest philanthropic entities in the US. It acts as a passive conduit, accepting funds from MFT and, upon "advice," granting them to other charities, thereby obscuring the original source.'
                },
                '85f': {
                    title: 'The 85 Fund',
                    content: 'The destination hub. A 501(c)(3) organization that receives the anonymized funds from Schwab Charitable. It then distributes this money to operational groups and pays millions in consulting fees to Leonard Leo\'s for-profit firm, CRC Advisors.'
                },
                flow1: {
                    title: 'Flow 1: MFT → Schwab Charitable',
                    content: 'A sustained, high-volume funding stream. Key transactions include **$153.8M** (FYE 2022) and **$153.75M** (FYE 2023), totaling over $307M. This inflow establishes the DAF account as a major financial reservoir for the network.'
                },
                flow2: {
                    title: 'Flow 2: Schwab Charitable → The 85 Fund',
                    content: 'The corresponding outflow. Key transactions include **$141.5M** (FYE 2022) and **$141.25M** (FYE 2023), totaling over $282M. The timing and amounts correlate directly with the MFT inflows, confirming the pass-through strategy. The difference likely covers fees and other smaller grants.'
                }
            };

            function updateDetails(key) {
                if (!paneData[key]) return;
                detailsPane.title.textContent = paneData[key].title;
                detailsPane.content.innerHTML = `<p>${paneData[key].content}</p>`;
                
                Object.values(flowNodes).forEach(node => node.classList.remove('active-node'));
                if (flowNodes[key]) {
                   flowNodes[key].classList.add('active-node');
                }
            }

            Object.entries(flowNodes).forEach(([key, node]) => {
                node.addEventListener('click', () => updateDetails(key));
            });
            
            updateDetails('mft');


            function handleNavigation() {
                const hash = window.location.hash || '#summary';
                sections.forEach(section => {
                    if ('#' + section.id === hash) {
                        section.classList.add('active');
                    } else {
                        section.classList.remove('active');
                    }
                });
                navLinks.forEach(link => {
                    if (link.getAttribute('href') === hash) {
                        link.classList.add('active-nav');
                        link.classList.remove('inactive-nav');
                    } else {
                        link.classList.remove('active-nav');
                        link.classList.add('inactive-nav');
                    }
                });

                if (hash === '#key-players') {
                    renderMftChart();
                }
                if (hash === '#full-network') {
                    renderNetworkMap();
                }
            }
            
            window.addEventListener('hashchange', handleNavigation);
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    window.location.hash = e.target.getAttribute('href');
                });
            });

            handleNavigation();

            let dafStep = 1;
            const dafNextBtn = document.getElementById('daf-next-btn');
            const dafSteps = [
                document.getElementById('daf-step-1'),
                document.getElementById('daf-step-2'),
                document.getElementById('daf-step-3'),
            ];

            function updateDafSteps() {
                dafSteps.forEach((step, index) => {
                    if (index < dafStep) {
                        step.style.opacity = '1';
                        step.classList.remove('border-slate-200');
                        step.classList.add('border-blue-700');
                    } else {
                        step.style.opacity = '0.5';
                        step.classList.add('border-slate-200');
                        step.classList.remove('border-blue-700');
                    }
                });
                 if (dafStep > 2) {
                    dafNextBtn.textContent = "Reset";
                } else {
                    dafNextBtn.textContent = "Next Step";
                }
            }
            updateDafSteps();

            dafNextBtn.addEventListener('click', () => {
                dafStep++;
                if (dafStep > 3) {
                    dafStep = 1;
                }
                updateDafSteps();
            });

            let mftChartInstance = null;
            function renderMftChart() {
                if (mftChartInstance) {
                    return;
                }
                const ctx = document.getElementById('mftGrantsChart').getContext('2d');
                const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                gradient.addColorStop(0, 'rgba(29, 78, 216, 0.7)');
                gradient.addColorStop(1, 'rgba(29, 78, 216, 0.1)');

                mftChartInstance = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['FYE 2021', 'FYE 2022', 'FYE 2023', 'FYE 2024'],
                        datasets: [{
                            label: 'Grants to Schwab Charitable ($M)',
                            data: [18, 153.8, 153.75, 122],
                            backgroundColor: gradient,
                            borderColor: 'rgba(29, 78, 216, 1)',
                            borderWidth: 2,
                            borderRadius: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: 'Marble Freedom Trust Grants to Schwab Charitable',
                                font: { size: 16, family: 'Inter'},
                                color: '#334155',
                                padding: { bottom: 20 }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return ` $${context.parsed.y} Million`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Grant Amount (in Millions USD)'
                                }
                            }
                        }
                    }
                });
            }

            let networkRendered = false;
            function renderNetworkMap() {
                if (networkRendered) return;
                const container = document.getElementById('network-container');
                const nodes = {
                    seid: { text: "Barre Seid", top: '5%', left: '50%', type: 'source' },
                    mft: { text: "Marble Freedom Trust", top: '20%', left: '50%', type: 'engine' },
                    schwab: { text: "Schwab Charitable", top: '40%', left: '25%', type: 'conduit' },
                    donors: { text: "Donors Trust", top: '40%', left: '75%', type: 'conduit' },
                    '85f': { text: "The 85 Fund", top: '65%', left: '25%', type: 'hub' },
                    concord: { text: "The Concord Fund", top: '65%', left: '75%', type: 'hub' },
                    crc: { text: "CRC Advisors", top: '90%', left: '50%', type: 'profit' }
                };
                const connections = [
                    { from: 'seid', to: 'mft', label: '$1.6B' },
                    { from: 'mft', to: 'schwab', label: '$447M+' },
                    { from: 'mft', to: 'donors', label: '$41M+' },
                    { from: 'schwab', to: '85f', label: '$282M+' },
                    { from: 'mft', to: 'concord' },
                    { from: '85f', to: 'crc', label: '$21M+/yr' },
                    { from: 'concord', to: 'crc' },
                ];
                
                const nodeColors = {
                    source: 'bg-amber-500',
                    engine: 'bg-red-700',
                    conduit: 'bg-sky-600',
                    hub: 'bg-indigo-700',
                    profit: 'bg-green-700'
                };

                let html = '';

                connections.forEach(conn => {
                    const fromNode = nodes[conn.from];
                    const toNode = nodes[conn.to];
                    const x1 = parseFloat(fromNode.left);
                    const y1 = parseFloat(fromNode.top);
                    const x2 = parseFloat(toNode.left);
                    const y2 = parseFloat(toNode.top);
                    
                    const length = Math.sqrt((x2-x1)*(x2-x1) + (y2-y1)*(y2-y1));
                    const angle = Math.atan2(y2-y1, x2-x1) * 180 / Math.PI;
                    
                    const top = `${y1}%`;
                    const left = `${x1}%`;

                    html += `<div id="line-${conn.from}-${conn.to}" data-from="${conn.from}" data-to="${conn.to}" class="network-line absolute h-0.5 bg-slate-300 transition-all duration-300" style="width: ${length}%; top: ${top}; left: ${left}; transform: rotate(${angle}deg); transform-origin: 0 0;"></div>`;
                    
                    if(conn.label) {
                        const midX = x1 + (x2 - x1) * 0.5;
                        const midY = y1 + (y2 - y1) * 0.5;
                         html += `<div id="label-${conn.from}-${conn.to}" data-from="${conn.from}" data-to="${conn.to}" class="network-label absolute text-xs bg-slate-50 px-1 rounded-sm text-slate-600 font-semibold" style="top: calc(${midY}% - 8px); left: calc(${midX}% - 20px);">${conn.label}</div>`;
                    }
                });

                Object.entries(nodes).forEach(([id, node]) => {
                    html += `<div id="node-${id}" data-node-id="${id}" class="network-node absolute -translate-x-1/2 -translate-y-1/2 p-2 md:px-3 md:py-2 rounded-lg text-white text-xs md:text-sm shadow-lg cursor-pointer transition-all duration-300 ${nodeColors[node.type]}" style="top: ${node.top}; left: ${node.left};">${node.text}</div>`;
                });

                container.innerHTML = html;
                networkRendered = true;

                container.addEventListener('click', (e) => {
                    const target = e.target.closest('.network-node');
                    if(target) {
                        const nodeId = target.dataset.nodeId;
                        highlightNode(nodeId);
                    } else {
                        clearHighlights();
                    }
                });
            }

            function highlightNode(nodeId) {
                clearHighlights();
                document.getElementById(`node-${nodeId}`).classList.add('highlight-node');
                document.querySelectorAll('.network-line').forEach(line => {
                    if(line.dataset.from === nodeId || line.dataset.to === nodeId) {
                        line.classList.add('highlight-line');
                    }
                });
                 document.querySelectorAll('.network-label').forEach(label => {
                    if(label.dataset.from === nodeId || label.dataset.to === nodeId) {
                        label.classList.add('font-bold', 'text-blue-800');
                    }
                });
            }
            
            function clearHighlights() {
                document.querySelectorAll('.network-node').forEach(n => n.classList.remove('highlight-node'));
                document.querySelectorAll('.network-line').forEach(l => l.classList.remove('highlight-line'));
                document.querySelectorAll('.network-label').forEach(l => l.classList.remove('font-bold', 'text-blue-800'));
            }

        });
    </script>
</body>
</html>
